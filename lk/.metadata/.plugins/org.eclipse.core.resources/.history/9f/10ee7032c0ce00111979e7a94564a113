package mju.summer2012.itproject.team3.lk.sailingtext.mainmenu;

import mju.summer2012.itproject.team3.lk.sailingtext.MainActivity;
import mju.summer2012.itproject.team3.lk.sailingtext.R;
import mju.summer2012.itproject.team3.lk.sailingtext.lkcustom.LKAndroid;
import mju.summer2012.itproject.team3.lk.sailingtext.ranking.RankingRelativeLayout;
import mju.summer2012.itproject.team3.lk.sailingtext.startgame.StartGameLinearLayout;
import android.content.Context;
import android.util.AttributeSet;
import android.view.LayoutInflater;
import android.view.ViewGroup;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.Spinner;
import android.widget.TextView;
import android.widget.ViewFlipper;

public class MainLinearLayout extends LinearLayout {
	private MainTextViewListener mainTextViewListener;
	private TextView textViewTitle;
	private TextView textViewBlankTitle;
	private TextView[] textViewArray;
	private TextView[] blankViewArray;
	private ViewFlipper viewFlipper;
	
	private static final String[] textviewID	= {"MainTextViewStartgame","MainTextViewRanking","MainTextViewOption"};
	private static final String blankViewID= "MainBlankView";
	private static final int MAINMENU_BLANKVIEW_COUNT	= 3;

	private RankingRelativeLayout rankingRelativeLayout;
	private StartGameLinearLayout startGameLinearLayout;
	public RankingRelativeLayout getRankingRelativeLayout() {		return rankingRelativeLayout;	}
	public void setRankingRelativeLayout(RankingRelativeLayout rankingRelativeLayout) {		this.rankingRelativeLayout = rankingRelativeLayout;	}
	
	public StartGameLinearLayout getStartGameLinearLayout() {
		return startGameLinearLayout;
	}
	public void setStartGameLinearLayout(StartGameLinearLayout startGameLinearLayout) {
		this.startGameLinearLayout = startGameLinearLayout;
	}
	public ViewFlipper getViewFlipper() {
		return viewFlipper;
	}
	public void setViewFlipper(ViewFlipper viewFlipper) {
		this.viewFlipper = viewFlipper;
	}
	

	
	public MainTextViewListener getMainTextViewListener() {
		return mainTextViewListener;
	}
	public void setMainTextViewListener(MainTextViewListener mainTextViewListener) {
		this.mainTextViewListener = mainTextViewListener;
	}

	public MainLinearLayout(Context context, AttributeSet attrs) {
		super(context, attrs);
		
	}
	public MainLinearLayout(Context context) {
		super(context);
		initiateMainmenuPage();
	}
	
	public void initiateMainmenuPage(){
		LayoutInflater.from(getContext()).inflate(R.layout.rankingrelaticelayout, (ViewGroup) this.findViewById(this.getId()));

		textViewTitle		= (TextView) this.findViewById(R.id.MainTextViewTitle);
		textViewBlankTitle	= (TextView) this.findViewById(R.id.MainBlankView);

		this.setViewFlipper((ViewFlipper) this.findViewById(R.id.viewFlipper));


		LKAndroid.initTextViewShadow(textViewTitle, ((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.TEXT, MainActivity.LARGE));
		textViewTitle.setTextSize(((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.TEXT, MainActivity.LARGE));
		LKAndroid.initBlankView(textViewBlankTitle, ((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.BLANK, MainActivity.LARGE));

		textViewArray	= new TextView[textviewID.length];
		blankViewArray	= new TextView[MAINMENU_BLANKVIEW_COUNT];
		
		this.setMainTextViewListener(new MainTextViewListener(this));

		for(int i = 0 ; i < textviewID.length ; i++){
			textViewArray[i]	= (TextView) this.findViewById(LKAndroid.getID("id", textviewID[i]));
			textViewArray[i].setTextSize(((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.TEXT, MainActivity.SMALL));
			LKAndroid.initTextViewShadow(textViewArray[i], ((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.TEXT, MainActivity.SMALL));
			textViewArray[i].setOnClickListener(this.getMainTextViewListener());
		}

		for(int j = 0 ; j < MAINMENU_BLANKVIEW_COUNT ; j++){
			blankViewArray[j]	= (TextView) this.findViewById(LKAndroid.getID("id", blankViewID+j));
			LKAndroid.initBlankView(blankViewArray[j], ((MainActivity) getContext()).getPreferTextSizeForWindow(MainActivity.TEXT, MainActivity.SMALL));
		}

		this.setStartGameLinearLayout((StartGameLinearLayout) this.findViewById(R.id.StartgameLinearLayout));
		this.setRankingRelativeLayout((RankingRelativeLayout) this.findViewById(R.id.RankingRelativeLayout));
	}
}
