package lk.summer.project;

import lk.summer.project.lkcustom.LKAndroid;
import lk.summer.project.lkcustom.LKBitmap;
import android.content.Context;
import android.util.AttributeSet;
import android.view.SurfaceHolder;
import android.view.SurfaceView;
import android.widget.TextView;

public class FallingTextSurfaceView extends SurfaceView implements SurfaceHolder.Callback, Runnable{

	private static final int THE_NUMBER_OF_FALLING_TEXT	= 10;
	private static final int FALLING_TEXT_MAX_SPEED	= 20;
	private static final int FALLING_TEXT_MIN_SPEED	= 5;

	private Thread thread;
	private TextView[] textViewArray;/*공 여러개를 운영하기 위해서 배열로 만듭니다.*/
	private int[] textWidthArray;
	private int[] textHeightArray;

	public Thread getThread() {		return thread;	}
	public void setThread(Thread thread) {		this.thread = thread;	}
	public TextView[] getTextImageArray() {		return textViewArray;	}
	public void setTextViewArray(TextView[] textViews) {		this.textViewArray = textViews;	}
	public void setTextView(int index, TextView textView) {		this.textViewArray[index] = textView;	}
	public int[] getTextWidthArray() {		return textWidthArray;	}
	public void setTextWidthArray(int[] textWidth) {		this.textWidthArray = textWidth;	}
	public void setATextWidthOfArray(int index, int textWidth) {		this.textWidthArray[index] = textWidth;	}
	public int[] getTextHeightArray() {		return textHeightArray;	}
	public int getTextHeight(int index) {		return textHeightArray[index];	}
	public void setTextHeightArray(int[] textHeight) {		this.textHeightArray = textHeight;	}
	public void setTextHeight(int index, int textHeight) {		this.textHeightArray[index] = textHeight;	}

	public FallingTextSurfaceView(Context context, AttributeSet attrs, int defStyle) {
		super(context, attrs, defStyle);
	}

	public FallingTextSurfaceView(Context context, AttributeSet attrs) {
		super(context, attrs);
	}

	public FallingTextSurfaceView(Context context) {
		super(context);
	}

	private void initiateBackground(){
		//현재 surface의 holder를 구한다.
		SurfaceHolder surfaceHolder	= this.getHolder();
		//화면에 뿌려줄 textimage 설정
		this.setTextViewArray(new TextView[THE_NUMBER_OF_FALLING_TEXT]);/*비트맵 배열을 초기화합니다. 비트맵도 int 같은 예약어인 것 같습니다.*/
		this.setTextWidthArray(new int[THE_NUMBER_OF_FALLING_TEXT]);
		this.setTextHeightArray(new int[THE_NUMBER_OF_FALLING_TEXT]);

		//비트뱁 배열 초기화...일일히 다 초기화해줍니다.
		for(int i = 0 ; i != this.getTextImageArray().length ; i++){
//			this.setTextImage(i, BitmapFactory.decodeResource(this.getResources(), LKAndroid.getID("drawable", "mt"+i)));

			this.setATextWidthOfArray(i, getTextImageArray()[i].getWidth());
			this.setTextHeight(i, getTextImageArray()[i].getHeight());

		}

		surfaceHolder.addCallback(this);
		surfaceHolder.setFixedSize(this.getWidth(), this.getHeight());
	}
	
	public void run() {
		
	}

	public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {
		
	}

	public void surfaceCreated(SurfaceHolder holder) {
		
	}

	public void surfaceDestroyed(SurfaceHolder holder) {
		
	}

}
